<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Estudiante Martial House</title>
	<link rel="icon" href="{{ url_for('static', filename='img/logo.png') }}" type="image/x-icon">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>



	<!-- NAV BAR -->
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
		<div class="container-fluid">
			<a class="navbar-brand" href="#"><img src="{{ url_for('static', filename='img/logo.png') }}" alt="logo"
					width="50"></a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" href="#schedule">Horario</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#attendance">Asistencia</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#payments">Pagos</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#info">Información</a>
					</li>
				</ul>
			</div>
			<button type="button" class="btn btn-outline-danger">
				<a href="http://127.0.0.1:5000/"
					class="link-danger link-offset-2 link-underline-opacity-0 link-underline-opacity-100-hover">
					Inicio
				</a> </button>
		</div>
	</nav>
	<!-- END NAV BAR -->

	<!-- MAIN CONTAINER -->
	<div class="container">

		
		<!-- SCHEDULE -->
		<h1 id="schedule" class="text-center p-5 mb-5 mt-5"> Horario </h1>
		<div class="calendar-container border rounded text-center">
			<iframe src="https://calendar.google.com/calendar/embed?src=c_1c341d6196907bd70ae173939fa23a6ba4d97df07f924fc833ffaf65d6eeb452%40group.calendar.google.com&ctz=America%2FBogota"  style="border-width:0; width: 100%; height: 600px;" frameborder="0"></iframe>
		</div>
		<!-- END SCHEDULE -->


		
		<!-- ATTENDANCE -->
		<h1 id="attendance" class="text-center p-5 mb-5 mt-5"> Asistencia </h1>
		<div class="container-fluid">
			<table class="table">
				<thead class="table-danger">
					<th scope="col">Fecha Clase</th>
					<th scope="col">Asistencia</th>
					<th scope="col">Maestro</th>
				</thead>
				<tbody>
					<!-- Aquí se incluirá la tabla dinámicamente utilizando JavaScript -->
				</tbody>
			</table>
		</div>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
		<script>
			// Código JavaScript para cargar datos de asistencia de forma dinámica
			$.ajax({
				url: "/get_attendance_data", // La URL de la ruta en app.py que devuelve los datos de la asistencia
				type: "GET",
				dataType: "json",
				success: function(data) {
					var tableBody = $("#attendance table tbody");
					tableBody.empty();
					innerData = data[0];
					for (var i = 0; i < innerData.length; i++) {
						var row = $("<tr></tr>");
						var date = $("<td></td>").text(innerData[i].date);
						var attendance = $("<td></td>").text(innerData[i].attendance);
						var teacher = $("<td></td>").text(innerData[i].teacher);
						row.append(date);
						row.append(attendance);
						row.append(teacher);
						tableBody.append(row);
					}
				},

				error: function(jqXHR, textStatus, errorThrown) {
					console.log("Error al obtener los datos de la asistencia: " + errorThrown);
				}
			});
		</script>
<!-- END ATTENDANCE -->



		
		<!-- PAYMENTS -->
		<h1 id="payments" class="text-center p-5 mb-5 mt-5"> Pagos </h1>
		<!-- END PAYMENTS -->


		
		<!-- INFO -->
		<h1 id="info" class="text-center p-5 mb-5 mt-5"> Información </h1>

		<!-- END INFO -->




	</div>
	<!-- END MAIN CONTAINER -->


	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>
</body>

</html>
